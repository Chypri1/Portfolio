<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recherche de Carte Yu-Gi-Oh!</title>
</head>
<body>

    <h1>Recherche de Carte Yu-Gi-Oh!</h1>

    <label for="cardName">Nom de la Carte :</label>
    <input type="text" id="cardName" placeholder="Entrez le nom de la carte">
    <button onclick="searchCard()">Rechercher</button>

    <div id="card-info"></div>

    <!-- Nouvelle section pour afficher les cartes possédées -->
    <section>
        <h2>Résultats de la Recherche</h2>
        <table id="search-results">
            <thead>
                <tr>
                    <th>Nom de la Carte</th>
                    <th>Type</th>
                    <th>Attaque</th>
                    <th>Défense</th>
                    <th>Posséder</th>
                </tr>
            </thead>
            <tbody id="search-results-body"></tbody>
        </table>
    </section>

    <script>
        // Fonction pour rechercher la carte
        function searchCard() {
            // Obtenez le nom de la carte depuis le champ de texte
            const cardNameQuery = document.getElementById("cardName").value.toLowerCase();

            // Ici, vous effectuez votre recherche API, par exemple, avec fetch
            // ...

            // Simulez la réponse de l'API (remplacez cela par la vraie réponse de votre API)
            const apiResponse = {
                data: {
                    cards: [
                        { name: "Dark Magician", type: "Monster", atk: 2000, def: 1500 },
                        { name: "Blue-Eyes White Dragon", type: "Monster", atk: 3000, def: 2500 },
                        // Ajoutez d'autres cartes au besoin
                    ]
                }
            };

            // Manipulez les données des cartes ici
            const cards = apiResponse.data.cards;

            // Filtrer les cartes en fonction de la chaîne de recherche
            const filteredCards = cards.filter(card => card.name.toLowerCase().includes(cardNameQuery));

            // Affichez les résultats de la recherche
            updateSearchResultsTable(filteredCards);
        }

        // Fonction pour mettre à jour le tableau des résultats de la recherche
        function updateSearchResultsTable(filteredCards) {
            const searchResultsTableBody = document.getElementById("search-results-body");

            // Effacer le contenu actuel du tableau
            searchResultsTableBody.innerHTML = "";

            // Parcourez les cartes filtrées et ajoutez-les au tableau
            filteredCards.forEach(card => {
                const row = searchResultsTableBody.insertRow();
                const cell1 = row.insertCell(0);
                const cell2 = row.insertCell(1);
                const cell3 = row.insertCell(2);
                const cell4 = row.insertCell(3);
                const cell5 = row.insertCell(4);

                cell1.textContent = card.name;
                cell2.textContent = card.type;
                cell3.textContent = card.atk;
                cell4.textContent = card.def;

                // Ajouter une case à cocher pour indiquer si la carte est possédée
                const checkbox = document.createElement("input");
                checkbox.type = "checkbox";
                // Vous pouvez ajouter ici la logique pour déterminer si la carte est possédée ou non
                checkbox.checked = false; // Mettez à jour cela en fonction de votre logique
                cell5.appendChild(checkbox);
            });
        }
    </script>

</body>
</html>
